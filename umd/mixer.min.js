class AudioMixer{constructor(){this.audioSources=[],this.audioContext=new AudioContext,this.audioDestination=this.audioContext.createMediaStreamDestination()}async addAudio(t){const i=t.getAudioTracks();let o=null;if(void 0===i[0])return;o=i[0];const e=this.audioContext.createMediaStreamSource(t);return this.audioSources.push(e),e.connect(this.audioDestination),e}deleteAudio(t){t.disconnect();const i=this.audioSources.indexOf(t);this.audioSources.splice(i,1)}getStream(){return this.audioDestination.stream}stop(){this.audioContext.stop()}}